/* src/css/PlannerPage.css */

/**
 * Contains styles exclusively for the PlannerPage and its child components
 * (Sidebar, Chat, Message). Assumes Tailwind base/components/utilities and
 * global styles are imported via src/index.css.
 * THEME UPDATED to match Landing Page where applicable.
 * --- CHAT BUBBLE STYLE UPDATED ---
 * --- ADDED NAVIGATION LINK ---
 */

@import "tailwindcss";

/* --- Planner Layout --- */
/* Main container for the Sidebar + Chat layout */
.app-container {
    @apply flex h-full w-screen; /* Use flexbox for side-by-side layout, full screen height/width */
}

/* --- Sidebar Styles (Themed) --- */
.sidebar {
    /* Updated background to match landing page card gradient, added backdrop blur */
    @apply w-64 md:w-72 bg-gradient-to-br from-[rgba(30,41,59,0.8)] to-[rgba(15,23,42,0.8)] backdrop-blur-sm p-6 flex flex-col gap-6 border-r border-white/10 transition-transform duration-300 flex-shrink-0;
}
.sidebar-header {
    @apply p-4 text-center border-b border-white/10 flex flex-col justify-center;
    min-height: 60px; /* Ensure consistent header height */
}
.sidebar-title {
    /* Font applied via .font-zen-dots class in JSX */
    @apply text-2xl text-cyan-400 text-center; /* Cyan title */
    line-height: 1.1; /* Adjust line height for the specific font */
}
.sidebar-subtitle {
    @apply text-xs text-gray-400 mt-2 text-center;
}
.sidebar-description {
    /* Kept distinct style, slightly updated background */
    @apply p-4 my-8 bg-black/30 border-l-4 border-cyan-500/50 rounded-r-md text-sm text-gray-300 leading-relaxed shadow-inner;
    font-family: 'Noto Sans', sans-serif; /* Explicitly use base font for readability */
}
.sidebar-description .highlight-cyan {
    @apply text-cyan-400 font-semibold;
}
.sidebar-description .highlight-keyword {
    @apply text-orange-400 font-medium; /* Kept orange for keywords here, distinct from user bubble */
}
.sidebar-description .code-style {
    /* Font applied via .font-oxanium class in JSX */
    @apply text-xs bg-black/40 text-emerald-400 px-1.5 py-0.5 rounded-sm border border-emerald-400/20;
}
.sidebar-controls {
    @apply flex flex-col gap-3 mt-auto pb-4; /* Controls section at the bottom */
}
.sidebar-label {
    @apply block text-sm font-medium text-gray-400 mb-2; /* Label for model select */
}
.model-select {
    /* Updated select style to match landing inputs */
    @apply w-full bg-white/5 border border-white/10 p-2.5 pr-10 rounded-md text-gray-200 text-sm cursor-pointer transition-colors hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#16213e] focus:ring-cyan-400 appearance-none; /* Cyan focus ring */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 0.9rem;
}
.model-select option {
    background-color: #1e293b;
    color: #e5e7eb;
}
.sidebar-help-text {
    @apply text-xs text-gray-500 mt-2;
}

/* --- Chat Styles (Themed) --- */
.chat-container {
    @apply flex-1 flex flex-col overflow-hidden;
    /* Slightly lighter background than body for subtle separation */
    background-color: rgba(22, 33, 62, 0.2); /* Example: Slightly different from #16213e */
}
.chat-header {
    /* Updated background to match landing page card gradient */
    /* Adjusted flex properties */
    @apply p-4 px-6 flex justify-between items-center gap-4 border-b border-white/10 bg-gradient-to-br from-[rgba(30,41,59,0.7)] to-[rgba(15,23,42,0.7)] backdrop-blur-sm flex-shrink-0 z-10 shadow-lg shadow-black/30;
    min-height: 60px;
}
.chat-title {
    /* Font applied via .font-oxanium class in JSX */
    @apply text-lg font-semibold text-white truncate flex-1 text-center;
}
.chat-title-placeholder { @apply opacity-60; }
/* Style for the new Home link */
.chat-home-link {
    @apply p-2 rounded-md text-gray-400 hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#16213e] focus:ring-cyan-400 flex-shrink-0;
}
.chat-home-link svg { @apply w-5 h-5; }
.chat-menu-button { /* Keep subtle style */ @apply p-2 rounded-md text-gray-400 hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#16213e] focus:ring-cyan-400 flex-shrink-0; /* Added flex-shrink-0 */ }
.chat-menu-button svg { @apply w-5 h-5; }
.chat-dropdown-wrapper { @apply relative; }
.chat-dropdown-menu { @apply absolute right-0 mt-2 w-48 bg-gray-100 rounded-md shadow-lg z-20 py-1 ring-1 ring-black/5; } /* Lighter dropdown */
.chat-dropdown-item { @apply flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-100 hover:text-red-800; }
.chat-dropdown-item-icon { @apply w-4 h-4 mr-3 text-red-500; }

/* Scroll area styles remain the same */
.chat-scroll-area { @apply flex-1 overflow-y-auto w-full min-h-0; scrollbar-width: thin; scrollbar-color: rgba(255, 255, 255, 0.1) transparent; }
.chat-scroll-area::-webkit-scrollbar { @apply w-1.5; }
.chat-scroll-area::-webkit-scrollbar-track { @apply bg-transparent; }
.chat-scroll-area::-webkit-scrollbar-thumb { @apply bg-white/10 rounded-full border-2 border-transparent; background-clip: content-box; }
.chat-scroll-area::-webkit-scrollbar-thumb:hover { @apply bg-white/20; }
.chat-content-container { @apply max-w-3xl mx-auto w-full p-4 md:p-6 flex flex-col gap-5; }

/* --- Message Styles --- */
.message { @apply flex items-start gap-3 animate-[fadeIn_0.3s_ease] max-w-full my-4; }
.message-user { @apply flex-row-reverse ml-auto; max-width: 90%; }
.message-model { @apply mr-auto; max-width: 90%; }
.message-icon { @apply flex-shrink-0 p-1.5 bg-white/5 border border-white/10 rounded-full flex items-center justify-center mt-1; }
.icon-model { @apply text-cyan-400 w-5 h-5; }
.icon-user { @apply text-orange-400 w-5 h-5; } /* Keep icon color distinct */

/* Base message content styles - UPDATED shadow */
.message-content {
    @apply flex-1 p-3 px-4 rounded-lg text-sm leading-relaxed shadow-lg border text-gray-200 min-w-0; /* Changed shadow-md to shadow-lg */
}
/* Model message bubble - UPDATED styles */
.message-model > .message-content {
    /* More distinct cyan background, standard rounding */
    @apply bg-cyan-600/30 border-cyan-500/50 rounded-lg;
    /* Removed specific border-radius here, rely on rounded-lg */
}
/* User message bubble - UPDATED styles */
.message-user > .message-content {
    /* Neutral dark slate background, standard rounding, subtle border */
    @apply bg-slate-700/50 border-white/10 rounded-lg;
    /* Removed specific border-radius here, rely on rounded-lg */
}

/* Content within messages */
.message-content p { @apply mb-2 last:mb-0; }
.message-content ul, .message-content ol { @apply pl-5 mb-2; }
.message-content li { @apply mb-1; }
.message-content code:not(pre code) { @apply bg-black/20 px-1 py-0.5 rounded text-xs text-yellow-300; }
.message-content pre { @apply bg-black/30 p-2 rounded my-2 text-xs overflow-x-auto; scrollbar-width: thin; scrollbar-color: rgba(255, 255, 255, 0.1) transparent; }
.message-content pre::-webkit-scrollbar { @apply h-1.5; }
.message-content pre::-webkit-scrollbar-track { @apply bg-transparent; }
.message-content pre::-webkit-scrollbar-thumb { @apply bg-white/10 rounded-full; }
.message-content pre::-webkit-scrollbar-thumb:hover { @apply bg-white/20; }
.message-content pre code { @apply bg-transparent p-0; }
.message-content h1, .message-content h2, .message-content h3 { @apply font-semibold text-white mt-3 mb-2; }
.message-content h2 { @apply text-base border-b border-white/10 pb-1; }
.message-content h3 { @apply text-sm; }
.message-content strong { @apply font-semibold text-white; }
.table-scroll-wrapper { @apply my-3 overflow-x-auto border border-gray-600/30 rounded-md bg-black/10; scrollbar-width: thin; scrollbar-color: rgba(255, 255, 255, 0.1) transparent; }
.table-scroll-wrapper::-webkit-scrollbar { @apply h-1.5; }
.table-scroll-wrapper::-webkit-scrollbar-track { @apply bg-transparent; }
.table-scroll-wrapper::-webkit-scrollbar-thumb { @apply bg-white/10 rounded-full; }
.table-scroll-wrapper::-webkit-scrollbar-thumb:hover { @apply bg-white/20; }
.message-content table { @apply min-w-full border-collapse table-auto; }
.message-content thead { @apply bg-gray-700/50; }
.message-content tr { @apply border-b border-gray-600/40 last:border-b-0; }
.message-content th { @apply border-r border-gray-600/30 last:border-r-0 px-3 py-2 text-left font-semibold text-white max-w-xs; }
.message-content td { @apply border-r border-gray-600/30 last:border-r-0 px-3 py-2 text-left text-gray-300 max-w-md; }

/* Loading & Error Message Styles (Keep existing error look for clarity) */
.message-loading { @apply flex items-center justify-center gap-2 text-gray-400 text-xs py-4; }
.message-loading svg { @apply w-4 h-4 animate-spin; }
.message-error-wrapper { @apply flex flex-col items-start max-w-[90%] mr-auto my-4; }
.message-error { @apply flex items-start gap-3 w-full; }
.message-error .message-icon { @apply bg-red-500/20 border-red-500/30; }
.message-error .icon-error { @apply text-red-400 w-5 h-5; }
/* Keep error message distinct - using rounded-lg now from base .message-content */
.message-error .message-content { @apply bg-red-500/10 border border-red-500/30 text-red-200 p-3 px-4 rounded-lg text-sm leading-relaxed shadow-lg; /* Updated shadow */ }
.message-error-resend-button { @apply self-end mt-1.5 flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-yellow-500/20 text-yellow-300 text-xs border border-yellow-500/30 hover:bg-yellow-500/30 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 focus:ring-offset-[#16213e] transition-colors; }
.message-error-resend-button svg { @apply w-3.5 h-3.5; }

/* Chat Input Styles (Themed) */
.chat-input-wrapper {
    /* Updated background to match landing card gradient */
    @apply pt-2 pb-3 md:pb-4 px-3 md:px-4 flex-shrink-0 z-10 bg-gradient-to-br from-[rgba(30,41,59,0.7)] to-[rgba(15,23,42,0.7)] backdrop-blur-sm border-t border-white/10;
}
.chat-input-form {
    /* Keep subtle background, update border */
    @apply max-w-3xl mx-auto flex items-end gap-2 p-1.5 bg-black/20 border border-white/10 rounded-xl shadow-lg; /* Kept rounded-xl for input area */
}
.chat-input {
    @apply flex-1 bg-transparent border-none p-2.5 text-gray-200 text-sm resize-none outline-none placeholder:text-gray-500 max-h-32;
    scrollbar-width: none; -ms-overflow-style: none;
}
.chat-input::-webkit-scrollbar { display: none; }
.chat-input:focus { box-shadow: none; }
.chat-submit {
    /* Use landing page primary button style */
    @apply flex-shrink-0 bg-cyan-500 border-none rounded-lg w-10 h-10 flex items-center justify-center cursor-pointer transition-all duration-200 hover:bg-cyan-400 disabled:bg-gray-500 disabled:opacity-60 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#16213e] focus:ring-cyan-400;
}
.chat-submit svg {
    @apply w-5 h-5 text-[#111827]; /* Dark icon on cyan bg */
}
.chat-submit-loading-icon {
    @apply w-5 h-5 animate-spin text-[#111827];
}

/* Prompt Starters Styles (Themed) */
.prompt-starters-container { @apply w-full my-24 flex flex-col items-center animate-[fadeIn_0.5s_ease]; }
.prompt-starters-title { @apply text-lg font-semibold text-gray-300 mb-4 flex items-center; }
.prompt-starters-grid { @apply grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-xl; }
.prompt-starter-button {
    /* Match landing page secondary button style */
    @apply bg-white/5 border border-white/10 rounded-lg p-3 text-left text-sm text-gray-300 hover:bg-white/10 transition-colors duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#16213e] focus:ring-cyan-400;
}

/* Animations */
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

/* Responsive Design (Keep existing structure, theme applied above) */
@media (max-width: 768px) {
    .app-container { @apply flex-col; }
    /* Sidebar mobile: Use themed background */
    .sidebar { @apply w-full h-20 border-r-0 border-b border-white/10 flex-row items-center justify-between p-3 flex-shrink-0; gap: 4px; }
    .sidebar-header { @apply p-0 text-left flex-1 flex items-center border-b-0; }
    .sidebar-title { @apply text-xl text-center; line-height: 1.1; } /* Font applied via class */
    .sidebar-subtitle { @apply text-xs hidden sm:block; }
    .sidebar-description { @apply hidden; }
    .sidebar-controls { @apply mt-0 p-0 flex-row items-center gap-2 border-t-0; flex-basis: 160px; }
    .sidebar-controls .sidebar-label { @apply hidden; }
    .model-select { @apply text-xs p-2 pr-8; background-size: 0.8rem; }
    .sidebar-controls .sidebar-help-text { @apply hidden; }

    /* Chat mobile: Use themed backgrounds */
    /* Ensure header items fit on mobile */
    .chat-header { flex: 0 0 auto; @apply shadow-md shadow-black/20 h-10 min-h-0 px-3; } /* Reduced padding */
    .chat-title { @apply text-base text-center; } /* Font applied via class */
    .chat-home-link svg { @apply w-4 h-4; } /* Smaller icon on mobile */
    .chat-menu-button svg { @apply w-4 h-4; } /* Smaller icon on mobile */

    .chat-input-wrapper { flex: 0 0 auto; @apply px-2 pb-2 pt-1; }
    .chat-scroll-area { flex: 1 1 0; min-height: 0; }
    .chat-content-container { @apply p-3; }
    .message { @apply my-3; }
    .message-user, .message-model { max-width: 95%; }
    .message-error-wrapper { max-width: 95%; }
    .message-content { @apply text-xs; } /* Base font size reduction */
    .chat-input-form { @apply gap-1.5 p-1; }
    .chat-input { @apply p-2 text-xs max-h-24; }
    .chat-submit { @apply w-9 h-9; }
    .chat-submit svg { @apply w-4 h-4; }
    .chat-submit-loading-icon { @apply w-4 h-4 animate-spin; }
    .message-loading svg { @apply w-3 h-3; }
    .prompt-starters-container { @apply my-16; }
    .prompt-starters-title { @apply text-base mb-3; }
    .prompt-starters-grid { @apply grid-cols-1 gap-2; }
    .prompt-starter-button { @apply p-2.5 text-xs; }
    .message-error-resend-button { @apply text-xs px-2 py-0.5 gap-1; }
    .message-error-resend-button svg { @apply w-3 h-3; }
}
